{"version":3,"sources":["components/Notification.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/contacts.js","index.js"],"names":["Notification","notification","className","status","message","Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","key","Filter","newFilter","handleFilter","value","onChange","Field","props","handleValue","PersonForm","handlers","handlePerson","handleName","handleNumber","onSubmit","type","baseUrl","personObj","axios","post","then","response","data","get","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","setNotification","re","RegExp","filterPersons","filter","match","useEffect","personService","initialPersons","catch","error","console","log","event","target","preventDefault","foundPerson","find","toLowerCase","trim","window","confirm","changedPerson","concat","addedPerson","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"kOAEMA,EAAe,SAAC,GAAD,IAAEC,EAAF,EAAEA,aAAF,OACjB,yBAAKC,UAAWD,EAAaE,QACxBF,EAAaG,UCFhBC,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,aAAV,OACb,6BACGD,EAAOE,KADV,IACiBF,EAAOG,OADxB,IACgC,4BAAQC,QAASH,EAAaD,EAAOK,KAArC,YAG5BC,EAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASN,EAAX,EAAWA,aAAX,OACd,6BACGM,EAAQC,KAAI,SAAAR,GAAM,OACf,kBAAC,EAAD,CAAQS,IAAKT,EAAOE,KAAMF,OAAQA,EAAQC,aAAcA,SCR1DS,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,UAAWC,EAAb,EAAaA,aAAb,OACb,iDACmB,2BAAOC,MAAOF,EAAWG,SAAUF,MCFlDG,EAAQ,SAACC,GAAD,OACZ,6BACKA,EAAMd,KADX,KACkB,2BAAOW,MAAOG,EAAMH,MAAOC,SAAUE,EAAMC,gBAGzDC,EAAa,SAAC,GAAD,IAAEhB,EAAF,EAAEA,KAAMC,EAAR,EAAQA,OAAR,IAAgBgB,SAAWC,EAA3B,EAA2BA,aAAcC,EAAzC,EAAyCA,WAAYC,EAArD,EAAqDA,aAArD,OACf,0BAAMC,SAAUH,GACZ,kBAAC,EAAD,CAAOlB,KAAK,OAAOW,MAAOX,EAAMe,YAAaI,IAC7C,kBAAC,EAAD,CAAOnB,KAAK,SAASW,MAAOV,EAAQc,YAAaK,IACjD,4BAAQE,KAAK,UAAb,S,gBCVFC,EAAU,eAsBD,EApBG,SAACC,GAEjB,OADgBC,IAAMC,KAAKH,EAASC,GACrBG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfI,WAEjB,OADgBJ,IAAMK,IAAIP,GACXI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVM,SAAC1B,GAEpB,OADgBsB,IAAMM,OAAN,UAAgBR,EAAhB,YAA2BpB,IAC5BwB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALM,SAACL,GAEpB,OADgBC,IAAMO,IAAN,UAAaT,EAAb,YAAwBC,EAAUrB,IAAMqB,GACzCG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCXrCI,G,MAAM,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACR7B,EADQ,KACC8B,EADD,OAEgBD,mBAAS,IAFzB,mBAERE,EAFQ,KAECC,EAFD,OAGoBH,mBAAS,IAH7B,mBAGRI,EAHQ,KAGGC,EAHH,OAIoBL,mBAAS,IAJ7B,mBAIRzB,EAJQ,KAIG+B,EAJH,OAK0BN,mBAAS,IALnC,mBAKRzC,EALQ,KAKMgD,EALN,KAWZC,EAAK,IAAIC,OAAOlC,EAAW,KACzBmC,EAAgBvC,EAAQwC,QAAO,SAAA/C,GAAM,OAAIA,EAAOE,KAAK8C,MAAMJ,MA+DjE,OAPAK,qBAAU,WACRC,IAEGrB,MAAK,SAAAsB,GAAc,OAAId,EAAWc,MAClCC,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAI,6BAC7B,IAGD,6BACE,yCACA,kBAAC,EAAD,CAAQ5C,UAAWA,EAAWC,aArEb,SAAC4C,GAAD,OAAWd,EAAac,EAAMC,OAAO5C,UAsEtD,yCACElB,GAAgB,kBAAC,EAAD,CAAcA,aAAcA,IAC9C,kBAAC,EAAD,CAAYO,KAAMoC,EAASnC,OAAQqC,EAAWrB,SAAU,CAACC,aAnExC,SAACoC,GACpBA,EAAME,iBACN,IAAMC,EAAcpD,EAAQqD,MAAK,SAAA5D,GAAM,OAAIA,EAAOE,KAAK2D,gBAAkBvB,EAAQwB,OAAOD,iBACxF,GAAIvB,GAAYE,EAET,GAAImB,EAAa,CACPI,OAAOC,QAAP,UAAkB1B,EAAlB,0EAEbY,EAAA,2BACoBS,GADpB,IACiCxD,OAAQqC,KACtCX,MAAK,SAAAoC,GACJ5B,EAAW9B,EAAQwC,QAAO,SAAA/C,GAAM,OAAIA,EAAOK,KAAOsD,EAAYtD,MAAI6D,OAAOD,IACzEtB,EAAgB,CAAC7C,QAAS,iBAAkBD,OAAQ,eAErDuD,OAAM,SAAAC,GACLV,EAAgB,CAAC7C,QAASuD,EAAMvB,SAASC,KAAMlC,OAAQ,SAC1B,MAA1BwD,EAAMvB,SAASjC,QAChBwC,EAAW9B,EAAQwC,QAAO,SAAA/C,GAAM,OAAIA,IAAS2D,aAGhD,CACL,IAAMjC,EAAY,CAACxB,KAAMoC,EAAQwB,OAAQ3D,OAAQqC,EAAUsB,QAC3DZ,EACaxB,GACVG,MAAK,SAACsC,GACL9B,EAAW9B,EAAQ2D,OAAOC,IAC1BxB,EAAgB,CAAC7C,QAAS,eAAgBD,OAAQ,eAEnDuD,OAAM,SAAAC,GACLV,EAAgB,CAAC7C,QAASuD,EAAMvB,SAASC,KAAMlC,OAAQ,iBAzB3D8C,EAAgB,CAAC7C,QAAS,iCAAkCD,OAAQ,SA4BtEuE,YAAW,kBAAMzB,EAAgB,MAAK,KACtCJ,EAAW,IACXE,EAAa,IACbC,EAAa,KAgC4DrB,WA1ExD,SAACmC,GAAD,OAAWjB,EAAWiB,EAAMC,OAAO5C,QA0EiCS,aAzElE,SAACkC,GAAD,OAAWf,EAAae,EAAMC,OAAO5C,WA0EtD,uCACA,kBAAC,EAAD,CAASN,QAASuC,EAAe7C,aA/BhB,SAACI,GAAD,OAAQ,WACZ0D,OAAOC,QAAQ,kDAE5Bd,EACgB7C,GACbwB,MAAK,WACJQ,EAAW9B,EAAQwC,QAAO,SAAA/C,GAAM,OAAIA,EAAOK,KAAOA,MAClDsC,EAAgB,CAAC7C,QAAS,iBAAkBD,OAAQ,YACpDuE,YAAW,kBAAMzB,EAAgB,MAAK,SAEvCS,OAAM,SAAAC,GACLV,EAAgB,CAAC7C,QAASuD,EAAMvB,SAASC,KAAMlC,OAAQ,SACvDwC,EAAW9B,EAAQwC,QAAO,SAAA/C,GAAM,OAAIA,EAAOK,KAAKA,gBAwB1DgE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.2c5e2070.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({notification}) => \n    <div className={notification.status}> \n        {notification.message} \n    </div>\n\nexport {Notification}","import React from 'react'\n\nconst Person = ({person, handleDelete}) => \n  <div>\n    {person.name} {person.number} <button onClick={handleDelete(person.id)}>delete</button>\n  </div>\n\nconst Persons = ({persons, handleDelete}) => \n  <div>\n    {persons.map(person => \n        <Person key={person.name} person={person} handleDelete={handleDelete}/>\n    )}\n  </div>\n\nexport {Persons}","import React from 'react'\n\nconst Filter = ({newFilter, handleFilter}) => \n  <div>\n    filter shown with<input value={newFilter} onChange={handleFilter}/>\n  </div>\n\nexport {Filter}","import React from 'react'\n\nconst Field = (props) => \n  <div>\n      {props.name} :<input value={props.value} onChange={props.handleValue}/>\n  </div>\n\nconst PersonForm = ({name, number, handlers: {handlePerson, handleName, handleNumber}}) => \n    <form onSubmit={handlePerson}>\n        <Field name='name' value={name} handleValue={handleName} />\n        <Field name='number' value={number} handleValue={handleNumber} />\n        <button type=\"submit\">add</button>\n    </form>\n\nexport {PersonForm}\n      ","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst addPerson = (personObj) => {\n  const request = axios.post(baseUrl, personObj)\n  return request.then(response => response.data)\n}\n\nconst getPersons = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst changeNumber = (personObj) => {\n  const request = axios.put(`${baseUrl}/${personObj.id}`, personObj)\n  return request.then(response => response.data)\n}\n\nexport default {addPerson, getPersons, deletePerson, changeNumber}","import React, { useState, useEffect } from 'react'\nimport ReactDOM from 'react-dom'\nimport {Notification} from './components/Notification'\nimport {Persons} from './components/Persons'\nimport {Filter} from './components/Filter'\nimport {PersonForm} from './components/PersonForm'\nimport personService from './services/contacts'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notification, setNotification ] = useState('')\n\n  const handleName = (event) => setNewName(event.target.value)\n  const handleNumber = (event) => setNewNumber(event.target.value)\n  const handleFilter = (event) => setNewFilter(event.target.value)\n\n  let re = new RegExp(newFilter, 'i')\n  const filterPersons = persons.filter(person => person.name.match(re)) \n\n  const handlePerson = (event) => {\n    event.preventDefault()\n    const foundPerson = persons.find(person => person.name.toLowerCase() === newName.trim().toLowerCase())\n    if(!newName || !newNumber) {\n      setNotification({message: 'Please enter a name and number', status: 'fail'})\n    } else if (foundPerson) {\n      const result = window.confirm(`${newName} is already added to the phonebook, replace old number with new one?`)\n      if (result){\n        personService\n          .changeNumber({...foundPerson, number: newNumber})\n          .then(changedPerson => {\n            setPersons(persons.filter(person => person.id !== foundPerson.id).concat(changedPerson))\n            setNotification({message: 'Person Updated', status: 'success'})\n          })\n          .catch(error => {\n            setNotification({message: error.response.data, status: 'fail'})\n            if(error.response.status === 404)\n              setPersons(persons.filter(person => person!==foundPerson))\n          })\n      }\n    } else {\n      const personObj = {name: newName.trim(), number: newNumber.trim()}\n      personService\n        .addPerson(personObj)\n        .then((addedPerson) => {\n          setPersons(persons.concat(addedPerson))\n          setNotification({message: 'Person Added', status: 'success'})\n        })\n        .catch(error => {\n          setNotification({message: error.response.data, status: 'fail'})\n        })\n    }\n    setTimeout(() => setNotification(''), 3000)\n    setNewName('')\n    setNewNumber('')\n    setNewFilter('')\n  }\n\n  const handleDelete = (id) => () => {\n    const result = window.confirm(\"Are you sure you want to delete this contact?\")\n    if(result)\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotification({message: 'Person deleted', status: 'success'})\n          setTimeout(() => setNotification(''), 2500)\n        })\n        .catch(error => {\n          setNotification({message: error.response.data, status: 'fail'})\n          setPersons(persons.filter(person => person.id!==id))\n        })\n  }\n  \n  useEffect(() => {\n    personService\n      .getPersons()\n      .then(initialPersons => setPersons(initialPersons))\n      .catch(error => console.log(\"Failed to fetch JSON\"))\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} handleFilter={handleFilter} />\n      <h2>add a new</h2>\n      { notification && <Notification notification={notification} />}\n      <PersonForm name={newName} number={newNumber} handlers={{handlePerson, handleName, handleNumber}}/>\n      <h2>Numbers</h2>\n      <Persons persons={filterPersons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}